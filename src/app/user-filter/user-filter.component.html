<div class="user-filter-container">
  <form [formGroup]="userFilterForm" class="form-class" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <div class="form-group">
        <label for="courseId">Course ID</label>
        <input
          id="courseId"
          formControlName="courseId"
          type="text"
          class="form-control"
          placeholder="Enter Course ID"
          required
        />
      </div>

      <div class="form-group">
        <label for="batchId">Batch ID</label>
        <input
          id="batchId"
          formControlName="batchId"
          type="text"
          class="form-control"
          placeholder="Enter Batch ID"
          required
        />
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="userId">User ID</label>
        <input
          id="userId"
          formControlName="userId"
          type="text"
          class="form-control"
          placeholder="Enter User ID"
          required
        />
      </div>

      <div class="form-group">
        <label for="location">Location</label>
        <input
          id="location"
          formControlName="location"
          type="text"
          class="form-control"
          placeholder="Enter Location"
          required
        />
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="dateType" style="text-decoration: underline"
          >Batch Enrollment Date Type</label
        >
        <div class="radio-progress">
          <label>
            <input
              type="radio"
              formControlName="dateType"
              value="single"
              (change)="onDateTypeChange('single')"
              checked
              class="form-control"
            />
            Single Date
          </label>
          <label>
            <input
              type="radio"
              formControlName="dateType"
              value="range"
              class="form-control"
              (change)="onDateTypeChange('range')"
            />
            Date Range
          </label>
        </div>

        <!-- Single Date Input -->
        <div *ngIf="isSingleDate" class="form-group-progress">
          <label for="batchEnrollmentDate">Batch Enrollment Date</label>
          <input
            id="batchEnrollmentDate"
            formControlName="batchEnrollmentDate"
            type="date"
            required
          />
        </div>

        <!-- Date Range Inputs -->
        <div *ngIf="!isSingleDate" class="form-group">
          <label for="batchEnrollmentDateStart"
            >Batch Enrollment Date Start</label
          >
          <input
            id="batchEnrollmentDateStart"
            formControlName="batchEnrollmentDateStart"
            type="date"
            class="form-control"
            required
          />
        </div>

        <div *ngIf="!isSingleDate" class="form-group">
          <label for="batchEnrollmentDateEnd">Batch Enrollment Date End</label>
          <input
            id="batchEnrollmentDateEnd"
            formControlName="batchEnrollmentDateEnd"
            type="date"
            class="form-control"
            required
          />
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="progress" style="text-decoration: underline"
          >Progress Type</label
        >
        <div class="radio-progress">
          <label>
            <input
              type="radio"
              formControlName="progressType"
              value="single"
              (change)="onProgressTypeChange('single')"
              checked
            />
            Single Value
          </label>
          <label>
            <input
              type="radio"
              formControlName="progressType"
              value="range"
              (change)="onProgressTypeChange('range')"
            />
            Range Value
          </label>
        </div>

        <!-- Single Value Input -->
        <div *ngIf="isSingleValue" class="form-group">
          <label for="progress">Progress</label>
          <input
            id="progress"
            formControlName="progress"
            type="number"
            class="form-control"
            placeholder="Enter Progress"
            required
          />
        </div>

        <!-- Range Value Inputs -->
        <div *ngIf="!isSingleValue" class="form-group">
          <label for="progressRangeStart">Progress Range Start</label>
          <input
            id="progressRangeStart"
            formControlName="progressRangeStart"
            type="number"
            class="form-control"
            placeholder="Enter Progress Range Start"
            required
          />
        </div>

        <div *ngIf="!isSingleValue" class="form-group">
          <label for="progressRangeEnd">Progress Range End</label>
          <input
            id="progressRangeEnd"
            formControlName="progressRangeEnd"
            type="number"
            class="form-control"
            placeholder="Enter Progress Range End"
            required
          />
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="totalLeafNodecount">Total Leaf Node Count</label>
        <input
          id="totalLeafNodecount"
          formControlName="totalLeafNodecount"
          type="number"
          class="form-control"
          placeholder="Enter Total Leaf Node Count"
          required
        />
      </div>

      <div class="form-group">
        <label for="lastAccessTime">Last Access Time</label>
        <input
          id="lastAccessTime"
          formControlName="lastAccessTime"
          type="date"
          class="form-control"
        />
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="lastCompletedTime">Last Completed Time</label>
        <input
          id="lastCompletedTime"
          formControlName="lastCompletedTime"
          type="date"
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="lastUpdatedTime">Last Updated Time</label>
        <input
          id="lastUpdatedTime"
          formControlName="lastUpdatedTime"
          type="date"
          class="form-control"
        />
      </div>
    </div>

    <div class="form-group2">
      <label>Fields to Include in Response:</label>
      <div>
        <div class="form-group">
          <label class="custom-checkbox">
            <input
              type="checkbox"
              (change)="toggleSelectAll($event)"
              [checked]="allFieldsSelected"
            />
            <span class="checkbox"></span>
            Select All Fields
          </label>
        </div>

        <div class="form-group">
          <label class="custom-checkbox">
            <input
              type="checkbox"
              (change)="onFieldChange($event)"
              value="location"
            />
            <span class="checkbox"></span>
            Location
          </label>
        </div>

        <div class="form-group">
          <label class="custom-checkbox">
            <input
              type="checkbox"
              (change)="onFieldChange($event)"
              value="progress"
            />
            <span class="checkbox"></span>
            Progress
          </label>
        </div>

        <div class="form-group">
          <label class="custom-checkbox">
            <input
              type="checkbox"
              (change)="onFieldChange($event)"
              value="batchId"
            />
            <span class="checkbox"></span>
            Batch ID
          </label>
        </div>

        <div class="form-group">
          <label class="custom-checkbox">
            <input
              type="checkbox"
              (change)="onFieldChange($event)"
              value="totalLeafNodecount"
            />
            <span class="checkbox"></span>
            Total Leaf Node Count
          </label>
        </div>

        <div class="form-group">
          <label class="custom-checkbox">
            <input
              type="checkbox"
              (change)="onFieldChange($event)"
              value="completedContents"
            />
            <span class="checkbox"></span>
            Completed Contents
          </label>
        </div>

        <div class="form-group">
          <label class="custom-checkbox">
            <input
              type="checkbox"
              (change)="onFieldChange($event)"
              value="batchEnrollmentDate"
            />
            <span class="checkbox"></span>
            Batch Enrollment Date
          </label>
        </div>

        <div class="form-group">
          <label class="custom-checkbox">
            <input
              type="checkbox"
              (change)="onFieldChange($event)"
              value="lastAccessTime"
            />
            <span class="checkbox"></span>
            Last Access Time
          </label>
        </div>

        <div class="form-group">
          <label class="custom-checkbox">
            <input
              type="checkbox"
              (change)="onFieldChange($event)"
              value="lastCompletedTime"
            />
            <span class="checkbox"></span>
            Last Completed Time
          </label>
        </div>

        <div class="form-group">
          <label class="custom-checkbox">
            <input
              type="checkbox"
              (change)="onFieldChange($event)"
              value="lastUpdatedTime"
            />
            <span class="checkbox"></span>
            Last Updated Time
          </label>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="limit">Limit</label>
        <input
          id="limit"
          formControlName="limit"
          type="number"
          class="form-control"
          placeholder="Enter limit"
        />
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="sortByField">Sort By Field</label>
        <select id="sortByField" formControlName="sortByField">
          <option value="" disabled>Select a field</option>
          <option *ngFor="let field of responseFields" [value]="field">
            {{ field }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="sortByOrder">Sort Order</label>
        <select id="sortByOrder" formControlName="sortByOrder">
          <option value="asc">Ascending</option>
          <option value="desc">Descending</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </form>
</div>
